# Test Environment Variables
# Used by integration and E2E tests
# NEVER use production values!

NODE_ENV=test

# Server (test instance)
PORT=3001
HOST=localhost
BASE_URL=http://localhost:3001

# Logging (minimal for tests)
LOG_LEVEL=error
LOG_PRETTY=false

# Keycloak OIDC (local test instance)
KEYCLOAK_URL=http://localhost:8080
KEYCLOAK_REALM=healthcare-domain
KEYCLOAK_CLIENT_ID=gateway-client
KEYCLOAK_CLIENT_SECRET=gateway-client-secret-change-in-production
KEYCLOAK_CALLBACK_URL=http://localhost:3001/auth/callback

# Redis (test instance)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=dev-redis-password
REDIS_DB=1

# Session
SESSION_SECRET=test-session-secret-32-characters-min
SESSION_TTL=300
SESSION_NAME=tech.citizen.test.sid
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTP_ONLY=true
SESSION_COOKIE_SAME_SITE=lax

# JWT
JWT_SECRET=test-jwt-secret-32-characters-minimum
JWT_EXPIRES_IN=5m
JWT_REFRESH_EXPIRES_IN=15m

# CORS
CORS_ORIGIN=http://localhost:3001
CORS_CREDENTIALS=true

# Rate Limiting (relaxed for tests)
RATE_LIMIT_MAX=1000
RATE_LIMIT_WINDOW_MS=60000

# Test Users (match realm-export.json)
TEST_USER_EMAIL=test@healthcare.local
TEST_USER_PASSWORD=Test1234!
TEST_DOCTOR_EMAIL=doctor@healthcare.local
TEST_DOCTOR_PASSWORD=Doctor1234!
TEST_ADMIN_EMAIL=admin@healthcare.local
TEST_ADMIN_PASSWORD=Admin1234!

# Feature Flags
FEATURE_AUTH_KEYCLOAK=true
FEATURE_AUTH_JWT=true
FEATURE_METRICS=true
FEATURE_CORRELATION_ID=true
