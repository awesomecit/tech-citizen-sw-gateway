# Production Environment Configuration
# Copy to .env.production on production server
# NEVER commit .env.production with real values

NODE_ENV=production
LOG_LEVEL=info

# Server
SERVER_PORT=3000
SERVER_HOST=0.0.0.0

# Domain
DOMAIN=healthcare.example.com
ACME_EMAIL=admin@healthcare.example.com

# Keycloak (internal Docker network)
KEYCLOAK_URL=http://keycloak:8080
KEYCLOAK_REALM=healthcare-domain
KEYCLOAK_CLIENT_ID=gateway-client
KEYCLOAK_CLIENT_SECRET=CHANGE_ME_IN_PRODUCTION
KEYCLOAK_PORT=8080

# Redis (internal Docker network)
REDIS_URL=redis://redis:6379
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_IN_PRODUCTION

# PostgreSQL (production database)
DATABASE_NAME=gateway_production
DATABASE_HOST=postgres
DATABASE_PORT=5432
DATABASE_USER=gateway
DATABASE_PASSWORD=CHANGE_ME_IN_PRODUCTION

# RabbitMQ (message broker)
RABBITMQ_URL=amqp://rabbitmq:5672
RABBITMQ_USER=gateway
RABBITMQ_PASSWORD=CHANGE_ME_IN_PRODUCTION

# Infrastructure Ports (external)
CADDY_HTTP_PORT=80
CADDY_HTTPS_PORT=443
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001

# Grafana
GF_SECURITY_ADMIN_USER=admin
GF_SECURITY_ADMIN_PASSWORD=CHANGE_ME_IN_PRODUCTION
GF_USERS_ALLOW_SIGN_UP=false

# Monitoring
PROMETHEUS_RETENTION=30d
LOKI_RETENTION=30d

# Backup
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# Feature Flags (LaunchDarkly / custom)
FEATURE_FLAGS_ENABLED=true
FEATURE_FLAGS_SDK_KEY=CHANGE_ME_IN_PRODUCTION

# Security
CORS_ORIGINS=https://healthcare.example.com
JWT_SECRET=CHANGE_ME_IN_PRODUCTION
SESSION_SECRET=CHANGE_ME_IN_PRODUCTION

# Observability
SENTRY_DSN=https://YOUR_SENTRY_DSN@sentry.io/PROJECT_ID
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=60000
